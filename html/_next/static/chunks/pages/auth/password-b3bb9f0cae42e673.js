(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[196],{92284:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/password",function(){return t(81687)}])},81687:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return N}});var i=t(85893),o=t(67294),r=t(7297),s=t(94589);function p(){let n=(0,r.Z)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  gap: 20px;\n  .customPhoneInput {\n    border-radius: 15px !important;\n    background: linear-gradient(\n            90deg,\n            #1e3c72 0%,\n            #1e3c72 1%,\n            #2a5298 100%\n    ) !important;\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.25) !important;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 32px;\n    line-height: 105.9%;\n    letter-spacing: -0.025em;\n    color: #fff;\n    width: 513px !important;\n    padding: 0 0 0 20px !important;\n    height: 46px;\n    @media only screen and (max-width: 800px) {\n      max-width: 300px;\n      width: 100% !important;\n      font-size: 20px;\n      height: 40px !important;\n      border-radius: 5px !important;\n    }\n  }\n\n"]);return p=function(){return n},n}function a(){let n=(0,r.Z)(["\n  width: 500px;\n  left: 461px;\n  background: #221F51;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.81);\n  border-radius: 30px;\n  display: grid;\n  grid-template-rows: 130px 1fr;\n\n  @media only screen and (max-width: 800px) {\n    width: 100%;\n    grid-template-rows: 60px 1fr;\n  }\n  \n"]);return a=function(){return n},n}function d(){let n=(0,r.Z)(["\n  background: #221F51;\n  box-shadow: 0 2px 17px rgba(0, 0, 0, 0.54);\n  border-radius: 30px 30px 0 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  font-size: 40px;\n  line-height: 49px;\n  color: #FFFFFF;\n\n  @media only screen and (max-width: 800px) {\n    font-weight: 600;\n    font-size: 30px;\n    line-height: 49px;\n    color: #FFFFFF;\n  }\n\n"]);return d=function(){return n},n}function l(){let n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n  padding: 20px;\n  .customPhoneInput{\n    width: 333px !important;\n    font-size: 24px;\n  }\n  >div{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 10px;\n  }\n  h1{\n    color: #fff;\n  }\n"]);return l=function(){return n},n}function u(){let n=(0,r.Z)(["\n	margin: 0 !important;\n	padding: 15px;\n	display: flex;\n	flex-direction: column;\n	align-items: center;\n	gap: 10px;\n	> p {\n		font-size: 18px;\n		color: #fff;\n	}\n"]);return u=function(){return n},n}function x(){let n=(0,r.Z)(["\n  position: relative;\n  .personIcon {\n    position: absolute;\n    left: 5px;\n    top: 0;\n  }\n  .blockIcon {\n    position: absolute;\n    left: 5px;\n    top: 0;\n  }\n  .customPhoneInput {\n    height: 30px;\n    background: rgba(255, 255, 255, 0);\n    border-bottom: 2px solid #fff;\n    width: 333px;\n    font-size: 24px;\n    color: #fff;\n    padding: 0 0 0 40px;\n    font-weight: 400;\n    @media only screen and (max-width: 1000px) {\n      width: 200px;\n      height: 30px;\n      font-size: 16px;\n    }\n  }\n  \n"]);return x=function(){return n},n}let h=s.ZP.div.withConfig({componentId:"sc-da076299-0"})(p());h.Block=s.ZP.div.withConfig({componentId:"sc-da076299-1"})(a()),h.BlockTop=s.ZP.div.withConfig({componentId:"sc-da076299-2"})(d()),h.BlockBottom=s.ZP.div.withConfig({componentId:"sc-da076299-3"})(l()),h.Model=s.ZP.div.withConfig({componentId:"sc-da076299-4"})(u()),h.InputArea=s.ZP.div.withConfig({componentId:"sc-da076299-5"})(x());var c=t(96614),m=t(27527),f=t(9473),g=t(45587),w=t(11163),v=t(81664),b=t(68343),y=t(9488),j=t(84850);let k=()=>{let n=(0,w.useRouter)(),e=(0,f.I0)(),t=(0,f.v9)(n=>n.getUserId),r=(0,f.v9)(n=>n.firstVerify),s=(0,f.v9)(n=>n.forgotPassword),[p,a]=(0,o.useState)({phoneNumber:"+998",idNumber:"",verifyDode:"",password:"",prePassword:""}),[d,l]=(0,o.useState)(!1),u=()=>e((0,b.Nm)({userNumber:p.phoneNumber})),x=()=>{p.password.length>=8&&p.password===p.prePassword?e((0,g.Ez)({firstName:"forgot password",phoneNumber:p.phoneNumber})):e((0,v.jQ)({time:5,type:"error",message:"Parol 8 honadan kop va bir hil bolishi kere"}))};(0,o.useEffect)(()=>{e((0,b.uY)()),e((0,g.gH)()),a({...p,idNumber:"",verifyDode:"",password:"",prePassword:""}),l(!1)},[p.phoneNumber.length]),(0,o.useEffect)(()=>{(null==t?void 0:t.status)==="success"&&k({type:"idNumber",value:t.message})},[t]),(0,o.useEffect)(()=>{(null==r?void 0:r.status)==="success"&&l(!0),(null==r?void 0:r.status)==="error"&&e((0,v.jQ)({time:3,type:"error",message:r.message}))},[r]);let k=n=>{let{type:e,value:t}=n,i=p;i[e]=t,a(i),a({...p,[e]:t})},I=()=>{6===p.verifyDode.length?e((0,j.Ms)(p)):e((0,v.jQ)({time:3,type:"error",message:"SMS toliq kiriting"}))};return(0,o.useEffect)(()=>{(null==s?void 0:s.status)==="success"?(e((0,v.jQ)({type:"success",time:3,message:null==s?void 0:s.message})),e((0,b.uY)()),e((0,g.gH)()),e((0,j.OG)()),a({phoneNumber:"+998",idNumber:"",verifyDode:"",password:"",prePassword:""}),l(!1)):(null==s?void 0:s.status)==="error"&&e((0,v.jQ)({type:"error",time:3,message:null==s?void 0:s.message}))},[s]),(0,i.jsxs)(h,{children:[(0,i.jsxs)(h.Block,{children:[(0,i.jsx)(h.BlockTop,{className:"nocopy",children:"ID raqamni tiklash"}),(0,i.jsxs)(h.BlockBottom,{children:[(0,i.jsx)(m.ZP,{className:"customPhoneInput",value:p.phoneNumber,onChange:n=>k({type:"phoneNumber",value:n}),maxLength:17}),(0,i.jsx)("h1",{children:(null==t?void 0:t.message)||""}),(null==t?void 0:t.status)==="success"?(0,i.jsxs)("div",{children:[(0,i.jsx)(c.II,{onchange:n=>k({type:"password",value:n.target.value}),type:"password",placeholder:"password",mradius:"5px",radius:"5px",height:"30px",width:"333px",mwidth:"300px",mheight:"30px"}),(0,i.jsx)(c.II,{onchange:n=>k({type:"prePassword",value:n.target.value}),type:"password",placeholder:"pre password",mradius:"5px",radius:"5px",height:"30px",width:"333px",mwidth:"300px",mheight:"30px"})]}):(0,i.jsx)("div",{}),(null==t?void 0:t.status)==="success"?(0,i.jsxs)("div",{children:[(0,i.jsx)(c.zx,{onclick:()=>x(),radius:"5px",size:"32px",width:"333px",height:"40px",msize:"22px",mheight:"40px",mwidth:"300px",mradius:"5px",children:"Raqam tastiqlash"}),(0,i.jsx)(c.zx,{onclick:()=>n.push("/auth"),radius:"5px",size:"32px",width:"333px",height:"40px",msize:"22px",mheight:"40px",mwidth:"300px",mradius:"5px",children:"KIrish"})]}):(0,i.jsx)(c.zx,{onclick:()=>u(),radius:"5px",size:"32px",width:"333px",height:"40px",msize:"22px",mheight:"40px",mwidth:"300px",mradius:"5px",children:"ID Topish"})]})]}),(0,i.jsx)(y.Z,{open:d,onOk:()=>l(!d),onCancel:()=>l(!d),footer:!1,children:(0,i.jsxs)(h.Model,{children:[(0,i.jsx)("p",{children:"Sms ni kiriting"}),(0,i.jsx)(c.II,{placeholder:"_ _ _ _ _ _",align:"center",malign:"center",maxlength:6,mradius:"5px",value:p.verifyDode,onchange:n=>k({type:"verifyDode",value:n.target.value})}),(0,i.jsx)(c.zx,{onclick:()=>I(),radius:"5px",size:"32px",width:"333px",height:"40px",msize:"22px",mheight:"40px",mwidth:"300px",mradius:"5px",children:"Parol ozgartirish"})]})})]})};var I=t(23793);let z=()=>(0,i.jsx)(I.Z,{children:(0,i.jsx)(k,{})});var N=z}},function(n){n.O(0,[3873,647,9488,7527,3793,9774,2888,179],function(){return n(n.s=92284)}),_N_E=n.O()}]);